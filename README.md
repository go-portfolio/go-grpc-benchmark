# Сгенерировать Go код из proto
```bash
$ protoc \
  --go_out=. --go_opt=paths=source_relative \
  --go-grpc_out=. --go-grpc_opt=paths=source_relative \
  proto/benchmark.proto
```

# Запустить сервер
go run cmd/server/main.go

# Запустить клиент бенчмарка
go run cmd/client/main.go

✅ Особенности сервера с debug:

Запуск с флагом:
```bash
go run cmd/server/main.go -debug
```

Особенности отлаживаемого клиента:
Флаг -debug
```bash
go run cmd/client/main.go -debug
```

Вот как можно кратко описать этот момент в README:

---

### Отладка в VS Code

Для отладки сервера и клиента используется Delve через `launch.json`.

* **Флаги (`-debug`, `--verbose`)** передаются в `main` только для управления поведением программы (например, включение подробного логирования).
* **Отладчик работает без флагов** — достаточно поставить точки останова в коде.
* Пример запуска из VS Code:

```json
"program": "${workspaceFolder}/cmd/server",
"args": ["-debug"]
```

Флаги здесь не обязательны для работы отладчика, а служат для включения дополнительного вывода или специальных режимов работы приложения.


## CLI-флаги

При запуске клиента и сервера поддерживаются следующие флаги:

Флаг	Описание
-debug	Включает режим отладки. Все вызовы logDebug выводят отладочные сообщения, полезные при разработке.
-verbose	Включает подробное логирование работы клиента. Все вызовы logVerbose показывают информацию о каждом RPC, ответах и ошибках.

Примеры запуска:

### Сервер с режимом отладки
go run cmd/server/main.go -debug

### Клиент с подробным логированием
go run cmd/client/main.go -verbose


Рекомендуется использовать -debug при разработке новых возможностей, а -verbose для анализа поведения клиента во время тестов и бенчмарков.

## gRPC Benchmark Server Methods

Ниже перечислены все методы сервера и их функциональность.

| Метод                  | Тип RPC                  | Описание                                                                 |
|------------------------|--------------------------|--------------------------------------------------------------------------|
| `Ping`                 | Unary                    | Клиент отправляет одно сообщение, сервер возвращает его обратно (эхо). Используется для базового тестирования задержки и успешности RPC. |
| `Stats`                | Unary                    | Клиент запрашивает статистику работы сервера. Сервер возвращает общее количество успешных запросов и среднее время обработки. Позволяет мониторить нагрузку и производительность. |
| `PushNotifications`    | Server Streaming         | Клиент отправляет один запрос, сервер открывает поток и отправляет несколько сообщений (например, уведомления). Используется для имитации вещания или уведомлений от сервера. |
| `AggregatePing`        | Client Streaming         | Клиент открывает поток и отправляет несколько сообщений подряд. Сервер собирает все сообщения и возвращает один агрегированный ответ. Используется для тестирования пропускной способности и объединения запросов. |
| `StreamPing`           | Bidirectional Streaming  | Клиент и сервер открывают двунаправленный поток. Клиент отправляет сообщения, сервер сразу отвечает. Используется для имитации чата или обмена данными в реальном времени. |
